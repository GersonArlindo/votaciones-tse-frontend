<nav class="page-breadcrumb">
    <ol class="breadcrumb">
      <li class="breadcrumb-item"><a routerLink="/dashboard">Dashboard</a></li>
      <li class="breadcrumb-item active" aria-current="page">Roles</li>
    </ol>
  </nav>
    
  <div class="row">
    <div class="col-md-12 stretch-card">
      <div class="card">
        <div class="headercard">
          <h5 id="_title-header-h5">Types roles of the leads clients</h5>
          <div class="btn-text-right headercard">
            <button *ngIf="create == 1" status="success" id="_btn-success" routerLink="/roles/add"
                class="dt-button create-new btn btn-primary ml-2" tabindex="0" aria-controls="DataTables_Table_0"
                type="button">
                <span class="d-none d-sm-inline-block"> <i class="mdi mdi-plus"></i>  Add Role</span>
              </button>
          </div>
        </div>
        
        <div class="card-body">
          <div class="table-responsive table table-hover mb-0">
            <p-table #dt class="data-config-header" [value]="role" dataKey="id" [rowHover]="true" [rows]="100"
              [showCurrentPageReport]="true" [paginator]="true"
              currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries" [filterDelay]="0"
              [globalFilterFields]="['rol_id','rol_rol','rol_descripcion','rol_created','rol_modify']">
  
              <ng-template pTemplate="caption">
                <div class="table-header">
                  Search Role
                  <span class="p-input-icon-left">
                    <div class="btn-text-right">
                      <input pInputText type="text" class="form-control" id="_bck-color"
                        (input)="applyFilterGlobal($event, 'contains')" />
                    </div>
                  </span>
                </div>
              </ng-template>
  
              <ng-template pTemplate="header">
                <tr>
                  <!-- <th style="width: 4rem">
                    <p-tableHeaderCheckbox></p-tableHeaderCheckbox>
                  </th> -->
  
                  <th pSortableColumn="rol _id" style="min-width: 8rem">
                    <div class="flex justify-content-between align-items-center">
                      Id
                      <p-sortIcon field="rol_id"></p-sortIcon>
                    </div>
                  </th>
  
                  <th pSortableColumn="rol_rol" style="min-width: 14rem">
                    <div class="flex justify-content-between align-items-center">
                      Name
                      <p-sortIcon field="rol_rol"></p-sortIcon>
                    </div>
                  </th>

                  <th pSortableColumn="rol_descripcion" style="min-width: 14rem">
                    <div class="flex justify-content-between align-items-center">
                      Description
                      <p-sortIcon field="rol_descripcion"></p-sortIcon>
                    </div>
                  </th>
  
                  <th pSortableColumn="rol_created" style="min-width: 14rem">
                    <div class="flex justify-content-between align-items-center">
                      Created date
                      <p-sortIcon field="rol_created"></p-sortIcon>
                    </div>
                  </th>
  
                  <th style="min-width: 09rem" *ngIf="delete == 1 || update == 1">
                    <div class="flex justify-content-between align-items-center">
                      Actions
                    </div>
                  </th>
                </tr>
              </ng-template>
  
              <ng-template pTemplate="body" let-role>
                <tr class="p-selectable-row">
                  <!-- <td>
                    <p-tableCheckbox [value]="role"></p-tableCheckbox>
                  </td> -->
                  <td>
                    <span class="rounded-pill">&nbsp; {{role.rol_id}} &nbsp;</span>
                  </td>
                  <td>
                    <i class="mdi mdi-security"></i>
                    {{role.rol_rol}}
                  </td>
                  <td>
                    <i class="mdi mdi-text"></i>
                    {{role.rol_descripcion}}
                  </td>
                  <td>
                    {{this.convertDateTime(role.rol_created)}}
                  </td>
                  <td style="text-align: left; margin-left: -5px;" >
                    <a [routerLink]="['/permisos/view', role.rol_id]" class="p-button p-button-rounded p-button-permission" style="margin-left: -12px;"><i class="mdi mdi-account-key"></i></a>&nbsp;
                    <a *ngIf="delete == 1" (click)="deleteRoleModal(contentDelete, role.rol_id)" class="p-button p-button-rounded p-button-warning"><i class="mdi mdi-trash-can-outline"></i></a>&nbsp;
                    <a *ngIf="update == 1" [routerLink]="['/roles/edit', role.rol_id]" class="p-button p-button-rounded p-button-success"><i class="mdi mdi-pencil"></i></a>&nbsp;
                    <a [routerLink]="['/rol-permiso/view', role.rol_id]" class="p-button p-button-rounded p-button-key"><i class="mdi mdi-key"></i></a>
                  </td>
                </tr>
              </ng-template>
              <ng-template pTemplate="emptymessage">
                <tr>
                  <td colspan="8">No roles found.</td>
                </tr>
              </ng-template>
            </p-table>
  
            <ng-template #contentDelete let-c="close" let-d="dismiss">
              <div class="modal-header">
                <h4 class="modal-title" id="modal-basic-title">Confirmation</h4>
              </div>
              <div class="modal-body">
                <p>Are you sure to delete the role</p>
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-outline-dark" (click)="d('Cross click')">Cancel</button>
                <button type="button" class="btn btn-outline-dark" (click)="c('yes')">Yes</button>
              </div>
            </ng-template>
  
          </div>
        </div>
      </div>
    </div>
  </div>
